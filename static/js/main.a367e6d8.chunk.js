(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5",modalImg:"Modal_modalImg__1ybZJ"}},12:function(e,t,a){e.exports={item:"ImageGalleryItem_item__2ey0n",image:"ImageGalleryItem_image__2xsbt"}},15:function(e,t,a){e.exports={list:"ImageGallery_list__3mqUc"}},16:function(e,t,a){e.exports={btn:"Button_btn__3xaJM"}},18:function(e,t,a){e.exports={loader:"Loader_loader__1j2Bs"}},19:function(e,t,a){e.exports={container:"Container_container__3RIox"}},24:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(24),a(13)),i=a(3),u=a(9),l=a.n(u),m=a(8);a(14);var b={fetchImages:function(e,t){var a="".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23098575-38c072e060e8821b5779b85db","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("No images for your request ".concat(e)))}))}},j=a(6),d=a.n(j),f=a(1);var h=function(e){var t=e.onSubmitForm,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1],s=function(e){if(e.preventDefault(),""===r.trim())return m.b.info("Enter your request",{theme:"dark"});t(r),o("")};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("header",{className:d.a.searchbar,children:Object(f.jsxs)("form",{className:d.a.form,onSubmit:s,children:[Object(f.jsx)("button",{type:"submit",className:d.a.button,onClick:s}),Object(f.jsx)("input",{className:d.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})})},p=a(2),O=a.n(p),_=a(15),g=a.n(_),x=a(12),v=a.n(x);function y(e){var t=e.alt,a=e.src,n=e.onClick,c=e.srcBigImg;return Object(f.jsx)("li",{className:v.a.item,onClick:n,children:Object(f.jsx)("img",{src:a,alt:t,"data-modal":c,className:v.a.image})})}function I(e){var t=e.images,a=e.onClick;return Object(f.jsx)("ul",{className:g.a.list,children:t.map((function(e){var t=e.id,n=e.tags,c=e.webformatURL,r=e.largeImageURL;return Object(f.jsx)(y,{alt:n,src:c,srcBigImg:r,onClick:a},t)}))})}I.prototype={images:O.a.arrayOf(O.a.shape({id:O.a.number.isRequired})),onClick:O.a.func.isRequired};var S=a(16),k=a.n(S);function N(e){var t=e.loadImages;return Object(f.jsx)("button",{type:"button",className:k.a.btn,onClick:t,children:"Load more..."})}var C=a(10),w=a.n(C),E=document.querySelector("#modal-root");function q(e){var t=e.src,a=e.alt,c=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&c()};return Object(r.createPortal)(Object(f.jsx)("div",{className:w.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(f.jsx)("div",{className:w.a.modal,children:Object(f.jsx)("img",{className:w.a.modalImg,src:t,alt:a})})}),E)}var F=a(17),L=a.n(F),A=(a(46),a(18)),B=a.n(A);var M=function(){return Object(f.jsx)(L.a,{className:B.a.loader,type:"Oval",color:"#00BFFF",height:120,width:120})},R=a(19),G=a.n(R),J=function(e){var t=e.children;return Object(f.jsx)("div",{className:G.a.container,children:t})},T=a.p+"static/media/default.6ddcc1dc.png";var U=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(i.a)(r,2),u=o[0],j=o[1],d=Object(n.useState)(1),p=Object(i.a)(d,2),O=p[0],_=p[1],g=Object(n.useState)(!1),x=Object(i.a)(g,2),v=x[0],y=x[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),C=k[0],w=k[1],E=Object(n.useState)(null),F=Object(i.a)(E,2),L=F[0],A=F[1],B=Object(n.useState)(""),R=Object(i.a)(B,2),G=R[0],U=R[1],P=Object(n.useState)(""),z=Object(i.a)(P,2),W=z[0],Z=z[1];Object(n.useEffect)((function(){""!==a&&b.fetchImages(a,O).then((function(e){var t=e.hits;if(0===t.length)return A("No images for your request ".concat(a));j([].concat(Object(s.a)(u),Object(s.a)(t))),_(O)})).catch((function(e){return A(e)})).finally((function(){return y(!1)}))}),[a,O]);var D=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},H=function(){w((function(e){return!e}))};return Object(f.jsx)(J,{children:Object(f.jsxs)("div",{className:l.a.App,children:[Object(f.jsx)(h,{onSubmitForm:function(e){c(e),j([]),_(1),A(null),y(!0)}}),v&&Object(f.jsx)(M,{}),u.length>0&&!L&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{onClick:function(e){U((function(){return e.target.dataset.modal})),Z((function(){return e.target.alt})),H()},images:u}),Object(f.jsx)(N,{loadImages:function(){y(!0),_((function(e){return e+1})),D()}})]}),C&&Object(f.jsx)(q,{onClose:H,src:G,alt:W}),L&&Object(f.jsx)("p",{className:l.a.error,children:L}),L&&Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:T,alt:"error",className:l.a.defaultImage})}),Object(f.jsx)(m.a,{autoClose:3e3})]})})};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__jo466",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU","button-label":"Searchbar_button-label__14f0Y",input:"Searchbar_input__2C4aO"}},9:function(e,t,a){e.exports={App:"App_App__16ZpL",error:"App_error__1umzI",defaultImage:"App_defaultImage__3uWI8"}}},[[47,1,2]]]);
//# sourceMappingURL=main.a367e6d8.chunk.js.map