{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Container/Container.module.css","services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Container/Container.js","images/default.png","App.js","index.js","components/Searchbar/Searchbar.module.css","App.module.css"],"names":["module","exports","api","fetchImages","searchQuery","page","url","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmitForm","useState","setSearchQuery","handleSearchSubmit","e","preventDefault","trim","toast","info","theme","className","s","searchbar","form","onSubmit","type","button","onClick","input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","alt","src","srcBigImg","item","image","ImageGallery","images","list","map","id","tags","webformatURL","largeImageURL","prototype","PropTypes","arrayOf","shape","number","isRequired","func","Button","loadImages","btn","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","event","target","modal","modalImg","LoaderSpinner","loader","color","height","width","Container","children","container","App","setImages","setPage","isLoading","setIsLoading","showModal","setShowModal","error","setError","modalImage","setModalImage","setAlt","imagesAPI","hits","length","catch","finally","scrollPage","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","Loader","dataset","state","defaultImage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a367e6d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\",\"modalImg\":\"Modal_modalImg__1ybZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__3mqUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// import axios from 'axios';\nfunction fetchImages(searchQuery, page) {\n  const API_KEY = '23098575-38c072e060e8821b5779b85db';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`No images for your request ${searchQuery}`),\n    );\n  });\n}\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { useState } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmitForm }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchChange = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      return toast.info('Enter your request', {\n        theme: 'dark',\n      });\n    }\n    onSubmitForm(searchQuery);\n    setSearchQuery('');\n  };\n\n  return (\n    <>\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSearchSubmit}>\n          <button\n            type=\"submit\"\n            className={s.button}\n            onClick={handleSearchSubmit}\n          ></button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ alt, src, onClick, srcBigImg }) {\n  return (\n    <li className={s.item} onClick={onClick}>\n      <img src={src} alt={alt} data-modal={srcBigImg} className={s.image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  srcBigImg: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.list}>\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          alt={tags}\n          src={webformatURL}\n          srcBigImg={largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.prototype = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadImages }) {\n  return (\n    <button type=\"button\" className={s.btn} onClick={loadImages}>\n      Load more...\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ src, alt, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  // const { src, alt } = this.props;\n  // console.log(this.props);\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackdropClick}>\n      <div className={s.modal}>\n        {<img className={s.modalImg} src={src} alt={alt} />}\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nfunction LoaderSpinner() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={120}\n      width={120}\n    />\n  );\n}\n\nexport default LoaderSpinner;\n","import React from 'react';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nexport default Container;\n","export default __webpack_public_path__ + \"static/media/default.6ddcc1dc.png\";","import s from './App.module.css';\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport imagesAPI from './services/imagesApi';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport LoaderSpinner from './components/Loader';\nimport Container from './components/Container';\nimport defaultImage from './images/default.png';\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [modalImage, setModalImage] = useState('');\n  const [alt, setAlt] = useState('');\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n\n    imagesAPI\n      .fetchImages(searchQuery, page)\n      .then(({ hits }) => {\n        // console.log({ hits });\n        if (hits.length === 0) {\n          return setError(`No images for your request ${searchQuery}`);\n        }\n        setImages([...images, ...hits]);\n        setPage(page);\n      })\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  }, [searchQuery, page]);\n\n  // Сабмит формы и очистка\n  const getSearchValue = searchQuery => {\n    setSearchQuery(searchQuery);\n    setImages([]);\n    setPage(1);\n    setError(null);\n    setIsLoading(true);\n  };\n\n  // Загрузка дальнейших картинок\n\n  const onLoadMore = () => {\n    setIsLoading(true);\n    setPage(state => state + 1);\n    scrollPage();\n  };\n\n  //Скролл при подгрузке картинок\n  const scrollPage = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  //Модалка\n  const toggleModal = () => {\n    setShowModal(showModal => !showModal);\n  };\n\n  const openModal = e => {\n    setModalImage(() => e.target.dataset.modal);\n    setAlt(() => e.target.alt);\n    toggleModal();\n  };\n\n  // РЕНДЕР СТРАНИЦЫ\n\n  // const { images, error, isLoading, modalImage, alt, showModal } = this.state;\n  return (\n    <Container>\n      <div className={s.App}>\n        <Searchbar onSubmitForm={getSearchValue} />\n        {isLoading && <LoaderSpinner />}\n        {images.length > 0 && !error && (\n          <>\n            <ImageGallery onClick={openModal} images={images} />\n            <Button loadImages={onLoadMore} />\n          </>\n        )}\n        {showModal && (\n          <Modal onClose={toggleModal} src={modalImage} alt={alt} />\n        )}\n        {error && <p className={s.error}>{error}</p>}\n        {error && (\n          <div>\n            <img src={defaultImage} alt=\"error\" className={s.defaultImage} />\n          </div>\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"button-label\":\"Searchbar_button-label__14f0Y\",\"input\":\"Searchbar_input__2C4aO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"error\":\"App_error__1umzI\",\"defaultImage\":\"App_defaultImage__3uWI8\"};"],"sourceRoot":""}